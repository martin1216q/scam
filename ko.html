<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡∏•‡∏≤‡∏Å‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Kanit', sans-serif; }
        
        .draggable {
            cursor: grab;
            transition: all 0.3s ease;
        }
        
        .draggable:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        
        .drop-zone {
            min-height: 60px;
            transition: all 0.3s ease;
        }
        
        .drop-zone.drag-over {
            background-color: #dbeafe;
            border-color: #3b82f6;
            transform: scale(1.02);
        }
        
        .correct-answer {
            animation: correctPulse 0.6s ease-in-out;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); background-color: #dcfce7; }
            100% { transform: scale(1); }
        }
        
        .timer-warning {
            animation: timerBlink 1s infinite;
        }
        
        @keyframes timerBlink {
            0%, 50% { color: #ef4444; }
            51%, 100% { color: #dc2626; }
        }
        
        .certificate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid #ffd700;
        }
        
        .qr-code {
            background: white;
            padding: 10px;
            border-radius: 8px;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-800 min-h-screen">
    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠ -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">üß© ‡πÄ‡∏Å‡∏°‡∏•‡∏≤‡∏Å‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏° v4.0</h1>
                <p class="text-gray-600">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á - ‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î!</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</label>
                    <input type="text" id="playerName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                </div>
                
                <button onclick="startGame()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200">
                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
                </button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
    <div id="gameScreen" class="hidden min-h-screen p-4">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center flex-wrap gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ <span id="currentPlayer" class="text-blue-600"></span>!</h2>
                        <p class="text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö <span id="currentLevel" class="font-semibold">1</span></p>
                    </div>
                    
                    <div class="flex items-center space-x-6">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-600" id="score">0</div>
                            <div class="text-sm text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                        </div>
                        
                        <div class="text-center">
                            <div class="text-2xl font-bold" id="timer">60</div>
                            <div class="text-sm text-gray-600">‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
                        </div>
                        
                        <div class="text-center">
                            <div class="text-2xl font-bold text-red-500" id="wrongCount">0</div>
                            <div class="text-sm text-gray-600">‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î</div>
                        </div>
                        
                        <div class="text-center">
                            <div class="text-2xl font-bold text-purple-600" id="hintCount">3</div>
                            <div class="text-sm text-gray-600">üí° ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-6">
                <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏° -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-4" id="questionTitle">‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÅ‡∏ã‡∏ô‡∏î‡πå‡∏ß‡∏¥‡∏ä</h3>
                        
                        <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏≤‡∏Å -->
                        <div class="mb-6">
                            <h4 class="font-medium text-gray-700 mb-3">‡∏•‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:</h4>
                            <div id="dragArea" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
                            </div>
                        </div>
                        
                        <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á -->
                        <div>
                            <h4 class="font-medium text-gray-700 mb-3">‡∏ß‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:</h4>
                            <div id="dropArea" class="space-y-3">
                                <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
                            </div>
                        </div>
                        
                        <div class="mt-6 flex space-x-3">
                            <button onclick="useHint()" id="hintButton" class="flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-200">
                                üí° ‡πÉ‡∏ä‡πâ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ (3)
                            </button>
                            <button onclick="checkAnswer()" class="flex-1 bg-gradient-to-r from-green-500 to-blue-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-green-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-200">
                                ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 flex items-center">
                            üèÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
                        </h3>
                        
                        <div id="leaderboard" class="space-y-3">
                            <div class="flex justify-between items-center p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
                                <div>
                                    <div class="font-semibold">ü•á ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô A</div>
                                    <div class="text-sm text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö 5</div>
                                </div>
                                <div class="text-lg font-bold text-yellow-600">2,500</div>
                            </div>
                            
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg border-l-4 border-gray-400">
                                <div>
                                    <div class="font-semibold">ü•à ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô B</div>
                                    <div class="text-sm text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö 4</div>
                                </div>
                                <div class="text-lg font-bold text-gray-600">2,100</div>
                            </div>
                            
                            <div class="flex justify-between items-center p-3 bg-orange-50 rounded-lg border-l-4 border-orange-400">
                                <div>
                                    <div class="font-semibold">ü•â ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô C</div>
                                    <div class="text-sm text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö 3</div>
                                </div>
                                <div class="text-lg font-bold text-orange-600">1,800</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® -->
    <div id="certificateScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="certificate rounded-2xl shadow-2xl p-8 max-w-2xl w-full text-white text-center">
            <div class="mb-6">
                <h1 class="text-4xl font-bold mb-2">üéâ ‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£</h1>
                <div class="w-24 h-1 bg-yellow-400 mx-auto rounded-full"></div>
            </div>
            
            <div class="mb-8">
                <p class="text-xl mb-4">‡∏Ç‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏Å‡∏±‡∏ö</p>
                <h2 class="text-3xl font-bold mb-4" id="certificateName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h2>
                <p class="text-lg mb-2">‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏Å‡∏°‡∏•‡∏≤‡∏Å‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°</p>
                <p class="text-lg mb-4">‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô <span id="finalScore" class="font-bold text-yellow-300">0</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                <p class="text-lg">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô: <span id="maxLevel" class="font-bold text-yellow-300">1</span></p>
            </div>
            
            <div class="flex justify-center items-center space-x-8 mb-8">
                <div class="qr-code">
                    <svg width="120" height="120" viewBox="0 0 120 120">
                        <!-- QR Code Pattern -->
                        <rect width="120" height="120" fill="white"/>
                        <g fill="black">
                            <!-- Corner squares -->
                            <rect x="0" y="0" width="21" height="21"/>
                            <rect x="99" y="0" width="21" height="21"/>
                            <rect x="0" y="99" width="21" height="21"/>
                            
                            <!-- Inner corner squares -->
                            <rect x="3" y="3" width="15" height="15" fill="white"/>
                            <rect x="102" y="3" width="15" height="15" fill="white"/>
                            <rect x="3" y="102" width="15" height="15" fill="white"/>
                            
                            <rect x="6" y="6" width="9" height="9"/>
                            <rect x="105" y="6" width="9" height="9"/>
                            <rect x="6" y="105" width="9" height="9"/>
                            
                            <!-- Sample data pattern -->
                            <rect x="30" y="30" width="3" height="3"/>
                            <rect x="36" y="30" width="3" height="3"/>
                            <rect x="42" y="30" width="3" height="3"/>
                            <rect x="30" y="36" width="3" height="3"/>
                            <rect x="42" y="36" width="3" height="3"/>
                            <rect x="30" y="42" width="3" height="3"/>
                            <rect x="36" y="42" width="3" height="3"/>
                            <rect x="42" y="42" width="3" height="3"/>
                            
                            <rect x="60" y="30" width="3" height="3"/>
                            <rect x="66" y="30" width="3" height="3"/>
                            <rect x="72" y="30" width="3" height="3"/>
                            <rect x="60" y="36" width="3" height="3"/>
                            <rect x="72" y="36" width="3" height="3"/>
                            <rect x="60" y="42" width="3" height="3"/>
                            <rect x="66" y="42" width="3" height="3"/>
                            <rect x="72" y="42" width="3" height="3"/>
                            
                            <rect x="30" y="60" width="3" height="3"/>
                            <rect x="36" y="60" width="3" height="3"/>
                            <rect x="42" y="60" width="3" height="3"/>
                            <rect x="30" y="66" width="3" height="3"/>
                            <rect x="42" y="66" width="3" height="3"/>
                            <rect x="30" y="72" width="3" height="3"/>
                            <rect x="36" y="72" width="3" height="3"/>
                            <rect x="42" y="72" width="3" height="3"/>
                            
                            <rect x="60" y="60" width="3" height="3"/>
                            <rect x="66" y="60" width="3" height="3"/>
                            <rect x="72" y="60" width="3" height="3"/>
                            <rect x="60" y="66" width="3" height="3"/>
                            <rect x="72" y="66" width="3" height="3"/>
                            <rect x="60" y="72" width="3" height="3"/>
                            <rect x="66" y="72" width="3" height="3"/>
                            <rect x="72" y="72" width="3" height="3"/>
                        </g>
                    </svg>
                </div>
                
                <div class="text-left">
                    <p class="text-lg font-semibold mb-2">üì± ‡∏™‡πÅ‡∏Å‡∏ô QR Code</p>
                    <p class="text-sm opacity-90">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</p>
                    <p class="text-sm opacity-90">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°</p>
                </div>
            </div>
            
            <div class="flex justify-center space-x-4">
                <button onclick="restartGame()" class="bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                    üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
                </button>
                
                <button onclick="newPlayer()" class="bg-green-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors">
                    üë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
                </button>
                
                <button onclick="showLeaderboard()" class="bg-yellow-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-yellow-600 transition-colors">
                    üèÜ ‡∏î‡∏π‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
                </button>
            </div>
        </div>
    </div>

    <script>
        // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡∏°
        let currentPlayer = '';
        let currentLevel = 1;
        let score = 0;
        let timeLeft = 60;
        let gameTimer;
        let questions = [
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î MAX = ‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å", "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ", "‡∏ñ‡πâ‡∏≤‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ MAX ‡πÉ‡∏´‡πâ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà", "return MAX"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏™‡πâ‡∏ô",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á i = 0", "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö A[i] ‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏≤", "‡∏ñ‡πâ‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô return i", "i = i + 1"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏á",
                steps: ["‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å i", "‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô j", "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö A[j] ‡∏Å‡∏±‡∏ö A[j+1]", "‡∏ñ‡πâ‡∏≤ A[j] > A[j+1] ‡∏™‡∏•‡∏±‡∏ö‡∏ó‡∏µ‡πà"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏ü‡∏Å‡∏ó‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏•",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î result = 1", "‡∏ß‡∏ô‡∏•‡∏π‡∏õ i ‡∏à‡∏≤‡∏Å 1 ‡∏ñ‡∏∂‡∏á n", "result = result √ó i", "return result"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏ß‡∏¥‡∏†‡∏≤‡∏Ñ",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î left = 0, right = n-1", "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì mid = (left+right)/2", "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö A[mid] ‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏≤", "‡∏õ‡∏£‡∏±‡∏ö left ‡∏´‡∏£‡∏∑‡∏≠ right"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î MIN = ‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å", "‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ", "‡∏ñ‡πâ‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ MIN ‡πÉ‡∏´‡πâ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà", "return MIN"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î count = 0", "‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß", "‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢ 2 ‡∏•‡∏á‡∏ï‡∏±‡∏ß", "count = count + 1"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏£‡∏¢‡πå",
                steps: ["‡∏Å‡∏≥‡∏´‡∏ô‡∏î sum = 0", "‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß", "sum = sum + A[i]", "return sum"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å",
                steps: ["‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å i", "‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏∏‡∏î", "‡∏™‡∏•‡∏±‡∏ö‡∏Å‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á i", "‡∏ó‡∏≥‡∏ã‡πâ‡∏≥‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö"],
                correct: [0, 1, 2, 3]
            },
            {
                title: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°: ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞",
                steps: ["‡∏ñ‡πâ‡∏≤ n <= 1 return false", "‡∏ß‡∏ô‡∏•‡∏π‡∏õ i ‡∏à‡∏≤‡∏Å 2 ‡∏ñ‡∏∂‡∏á ‚àön", "‡∏ñ‡πâ‡∏≤ n ‡∏´‡∏≤‡∏£ i ‡∏•‡∏á‡∏ï‡∏±‡∏ß return false", "return true"],
                correct: [0, 1, 2, 3]
            }
        ];
        
        let currentQuestion = 0;
        let playerAnswers = [];
        let usedQuestions = []; // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß
        let wrongAnswerCount = 0; // ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î
        let hintCount = 3; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ
        let usedHints = []; // ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ö‡πâ‡πÅ‡∏•‡πâ‡∏ß

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        function startGame() {
            const name = document.getElementById('playerName').value.trim();
            if (!name) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô');
                return;
            }
            
            currentPlayer = name;
            document.getElementById('currentPlayer').textContent = name;
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            startTimer();
            loadQuestion();
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà
        function getRandomQuestion() {
            // ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
            if (usedQuestions.length >= questions.length) {
                usedQuestions = [];
            }
            
            let availableQuestions = questions.filter((_, index) => !usedQuestions.includes(index));
            let randomIndex = Math.floor(Math.random() * availableQuestions.length);
            let selectedQuestionIndex = questions.indexOf(availableQuestions[randomIndex]);
            
            usedQuestions.push(selectedQuestionIndex);
            return selectedQuestionIndex;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
        function loadQuestion() {
            if (currentLevel > 10) { // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
                endGame();
                return;
            }
            
            // ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î
            if (wrongAnswerCount > 0 || currentQuestion >= questions.length) {
                currentQuestion = getRandomQuestion();
            }
            
            const question = questions[currentQuestion];
            document.getElementById('questionTitle').textContent = question.title;
            document.getElementById('currentLevel').textContent = currentLevel;
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÉ‡∏ö‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà
            usedHints = [];
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ö‡πâ
            document.getElementById('hintButton').disabled = hintCount <= 0;
            document.getElementById('hintButton').innerHTML = `üí° ‡πÉ‡∏ä‡πâ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ (${hintCount})`;
            if (hintCount <= 0) {
                document.getElementById('hintButton').classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                document.getElementById('hintButton').classList.remove('opacity-50', 'cursor-not-allowed');
            }
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏≤‡∏Å
            const dragArea = document.getElementById('dragArea');
            dragArea.innerHTML = '';
            
            // ‡∏™‡∏∏‡πà‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
            const shuffledSteps = [...question.steps].sort(() => Math.random() - 0.5);
            
            shuffledSteps.forEach((step, index) => {
                const div = document.createElement('div');
                div.className = 'draggable bg-blue-100 border-2 border-blue-300 rounded-lg p-3 text-center font-medium hover:bg-blue-200';
                div.draggable = true;
                div.textContent = step;
                div.dataset.originalIndex = question.steps.indexOf(step);
                
                div.addEventListener('dragstart', handleDragStart);
                div.addEventListener('dragend', handleDragEnd);
                
                dragArea.appendChild(div);
            });
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á
            const dropArea = document.getElementById('dropArea');
            dropArea.innerHTML = '';
            playerAnswers = [];
            
            for (let i = 0; i < question.steps.length; i++) {
                const div = document.createElement('div');
                div.className = 'drop-zone border-2 border-dashed border-gray-300 rounded-lg p-4 text-center text-gray-500 bg-gray-50';
                div.textContent = `‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà ${i + 1}`;
                div.dataset.position = i;
                
                div.addEventListener('dragover', handleDragOver);
                div.addEventListener('drop', handleDrop);
                div.addEventListener('dragleave', handleDragLeave);
                
                dropArea.appendChild(div);
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å
        let draggedElement = null;

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.style.opacity = '0.5';
        }

        function handleDragEnd(e) {
            e.target.style.opacity = '1';
            draggedElement = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.target.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');
            
            if (draggedElement && e.target.classList.contains('drop-zone')) {
                const position = parseInt(e.target.dataset.position);
                const originalIndex = parseInt(draggedElement.dataset.originalIndex);
                
                // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°
                if (e.target.children.length > 0) {
                    const existingElement = e.target.children[0];
                    document.getElementById('dragArea').appendChild(existingElement);
                }
                
                // ‡∏ß‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà
                e.target.innerHTML = '';
                e.target.appendChild(draggedElement.cloneNode(true));
                e.target.classList.remove('border-dashed', 'border-gray-300', 'text-gray-500', 'bg-gray-50');
                e.target.classList.add('border-solid', 'border-blue-300', 'bg-blue-50');
                
                // ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏≤‡∏Å
                draggedElement.remove();
                
                // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
                playerAnswers[position] = originalIndex;
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ä‡πâ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ
        function useHint() {
            if (hintCount <= 0) {
                alert('‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!');
                return;
            }
            
            const question = questions[currentQuestion];
            const dropZones = document.querySelectorAll('.drop-zone');
            
            // ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ß‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡∏ú‡∏¥‡∏î
            let availableHints = [];
            for (let i = 0; i < question.correct.length; i++) {
                if (!usedHints.includes(i) && (playerAnswers[i] === undefined || playerAnswers[i] !== question.correct[i])) {
                    availableHints.push(i);
                }
            }
            
            if (availableHints.length === 0) {
                alert('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ö‡πâ‡πÅ‡∏•‡πâ‡∏ß!');
                return;
            }
            
            // ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ö‡πâ
            const hintPosition = availableHints[Math.floor(Math.random() * availableHints.length)];
            const correctStepIndex = question.correct[hintPosition];
            const correctStep = question.steps[correctStepIndex];
            
            // ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
            hintCount--;
            document.getElementById('hintCount').textContent = hintCount;
            document.getElementById('hintButton').innerHTML = `üí° ‡πÉ‡∏ä‡πâ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ (${hintCount})`;
            
            if (hintCount === 0) {
                document.getElementById('hintButton').disabled = true;
                document.getElementById('hintButton').classList.add('opacity-50', 'cursor-not-allowed');
            }
            
            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ö‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß
            usedHints.push(hintPosition);
            
            // ‡πÅ‡∏™‡∏î‡∏á popup ‡πÉ‡∏ö‡πâ
            const popup = document.createElement('div');
            popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            popup.innerHTML = `
                <div class="bg-white rounded-2xl p-6 max-w-md mx-4 text-center shadow-2xl">
                    <div class="text-6xl mb-4">üí°</div>
                    <h3 class="text-xl font-bold text-purple-600 mb-2">‡πÉ‡∏ö‡πâ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö!</h3>
                    <p class="text-gray-600 mb-2">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà ${hintPosition + 1} ‡∏Ñ‡∏∑‡∏≠:</p>
                    <div class="bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3 mb-4">
                        <p class="font-semibold text-yellow-800">"${correctStep}"</p>
                    </div>
                    <p class="text-sm text-gray-500 mb-4">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ö‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${hintCount} ‡∏≠‡∏±‡∏ô</p>
                    <button onclick="this.parentElement.parentElement.remove()" class="bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        ‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß
                    </button>
                </div>
            `;
            
            document.body.appendChild(popup);
            
            // ‡πÄ‡∏ô‡πâ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡πâ
            const targetDropZone = dropZones[hintPosition];
            targetDropZone.style.border = '3px solid #fbbf24';
            targetDropZone.style.backgroundColor = '#fef3c7';
            targetDropZone.style.animation = 'pulse 2s infinite';
            
            setTimeout(() => {
                targetDropZone.style.border = '';
                targetDropZone.style.backgroundColor = '';
                targetDropZone.style.animation = '';
            }, 5000);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
        function checkAnswer() {
            const question = questions[currentQuestion];
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ß‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            if (playerAnswers.length !== question.correct.length || playerAnswers.includes(undefined)) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ß‡∏≤‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö!');
                return;
            }
            
            const isCorrect = playerAnswers.every((answer, index) => answer === question.correct[index]);
            
            if (isCorrect) {
                // ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
                // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 200 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏•‡∏î‡∏•‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏õ
                const timeUsed = 60 - timeLeft; // ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏õ
                const basePoints = 200;
                const timeBonus = Math.max(0, timeLeft * 2); // ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
                const earnedPoints = Math.max(50, basePoints - timeUsed + timeBonus); // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 50
                
                score += earnedPoints;
                document.getElementById('score').textContent = score;
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
                showScorePopup(earnedPoints, timeUsed);
                
                // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å
                document.getElementById('dropArea').classList.add('correct-answer');
                setTimeout(() => {
                    document.getElementById('dropArea').classList.remove('correct-answer');
                }, 600);
                
                // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å
                currentLevel++;
                currentQuestion++;
                

                
                setTimeout(() => {
                    loadQuestion();
                }, 1000);
                
            } else {
                // ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà
                wrongAnswerCount++;
                document.getElementById('wrongCount').textContent = wrongAnswerCount;
                showWrongAnswerMessage();
                
                // ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
                timeLeft = Math.max(timeLeft - 5, 0);
                
                // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                setTimeout(() => {
                    loadQuestion();
                }, 2000);
            }
        }
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
        function showScorePopup(points, timeUsed) {
            const popup = document.createElement('div');
            popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            
            let speedMessage = '';
            let speedEmoji = '';
            if (timeUsed <= 10) {
                speedMessage = '‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å!';
                speedEmoji = '‚ö°';
            } else if (timeUsed <= 20) {
                speedMessage = '‡πÄ‡∏£‡πá‡∏ß!';
                speedEmoji = 'üöÄ';
            } else if (timeUsed <= 30) {
                speedMessage = '‡∏î‡∏µ!';
                speedEmoji = 'üëç';
            } else if (timeUsed <= 45) {
                speedMessage = '‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á';
                speedEmoji = 'üëå';
            } else {
                speedMessage = '‡∏ä‡πâ‡∏≤';
                speedEmoji = 'üêå';
            }
            
            popup.innerHTML = `
                <div class="bg-white rounded-2xl p-6 max-w-md mx-4 text-center shadow-2xl">
                    <div class="text-6xl mb-4">üéâ</div>
                    <h3 class="text-xl font-bold text-green-600 mb-2">‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!</h3>
                    <div class="bg-green-100 border-2 border-green-300 rounded-lg p-4 mb-4">
                        <div class="text-3xl font-bold text-green-700 mb-2">+${points} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                        <div class="text-sm text-gray-600">
                            <p>‚è±Ô∏è ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤: ${timeUsed} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</p>
                            <p>${speedEmoji} ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß: ${speedMessage}</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-500">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                </div>
            `;
            
            document.body.appendChild(popup);
            
            // ‡∏•‡∏ö popup ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            setTimeout(() => {
                if (popup.parentElement) {
                    popup.remove();
                }
            }, 2000);
        }
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î
        function showWrongAnswerMessage() {
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á popup ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
            const popup = document.createElement('div');
            popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            popup.innerHTML = `
                <div class="bg-white rounded-2xl p-6 max-w-md mx-4 text-center shadow-2xl">
                    <div class="text-6xl mb-4">‚ùå</div>
                    <h3 class="text-xl font-bold text-red-600 mb-2">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!</h3>
                    <p class="text-gray-600 mb-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ...</p>
                    <p class="text-sm text-gray-500 mb-4">‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡∏î‡∏•‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</p>
                    <div class="flex justify-center">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"></div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(popup);
            
            // ‡∏•‡∏ö popup ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            setTimeout(() => {
                if (popup.parentElement) {
                    popup.remove();
                }
            }, 2000);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
        function startTimer() {
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                if (timeLeft <= 10) {
                    document.getElementById('timer').classList.add('timer-warning');
                } else {
                    document.getElementById('timer').classList.remove('timer-warning');
                }
                
                if (timeLeft <= 0) {
                    handleTimeUp();
                }
            }, 1000);
        }
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏î
        function handleTimeUp() {
            clearInterval(gameTimer);
            
            // ‡πÅ‡∏™‡∏î‡∏á popup ‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏î
            const popup = document.createElement('div');
            popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            popup.innerHTML = `
                <div class="bg-white rounded-2xl p-6 max-w-md mx-4 text-center shadow-2xl">
                    <div class="text-6xl mb-4">‚è∞</div>
                    <h3 class="text-xl font-bold text-orange-600 mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!</h3>
                    <p class="text-gray-600 mb-4">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
                    <div class="flex space-x-3 justify-center">
                        <button onclick="restartCurrentQuestion(); this.parentElement.parentElement.parentElement.remove()" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                            ‚úÖ ‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà
                        </button>
                        <button onclick="endGame(); this.parentElement.parentElement.parentElement.remove()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                            ‚ùå ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(popup);
        }
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
        function restartCurrentQuestion() {
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏ß‡∏•‡∏≤
            timeLeft = 60;
            document.getElementById('timer').textContent = timeLeft;
            document.getElementById('timer').classList.remove('timer-warning');
            
            // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà)
            loadQuestion();
            
            // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡∏°‡πà
            startTimer();
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏ö‡πÄ‡∏Å‡∏°
        function endGame() {
            clearInterval(gameTimer);
            
            document.getElementById('certificateName').textContent = currentPlayer;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('maxLevel').textContent = currentLevel - 1;
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
            updateLeaderboard();
            
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('certificateScreen').classList.remove('hidden');
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
        function updateLeaderboard() {
            // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
            const leaderboard = document.getElementById('leaderboard');
            const newEntry = document.createElement('div');
            newEntry.className = 'flex justify-between items-center p-3 bg-green-50 rounded-lg border-l-4 border-green-400';
            newEntry.innerHTML = `
                <div>
                    <div class="font-semibold">üéØ ${currentPlayer}</div>
                    <div class="text-sm text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö ${currentLevel - 1}</div>
                </div>
                <div class="text-lg font-bold text-green-600">${score}</div>
            `;
            
            leaderboard.insertBefore(newEntry, leaderboard.firstChild);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
        function restartGame() {
            currentLevel = 1;
            score = 0;
            timeLeft = 60;
            currentQuestion = 0;
            playerAnswers = [];
            usedQuestions = [];
            wrongAnswerCount = 0;
            hintCount = 3;
            usedHints = [];
            
            document.getElementById('score').textContent = '0';
            document.getElementById('timer').textContent = '60';
            document.getElementById('wrongCount').textContent = '0';
            document.getElementById('hintCount').textContent = '3';
            document.getElementById('timer').classList.remove('timer-warning');
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
            document.getElementById('currentPlayer').textContent = currentPlayer;
            
            document.getElementById('certificateScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            startTimer();
            loadQuestion();
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
        function showLeaderboard() {
            alert('‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏°!');
            
            // ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            document.getElementById('certificateScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
        function newPlayer() {
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠
            currentPlayer = '';
            currentLevel = 1;
            score = 0;
            timeLeft = 60;
            currentQuestion = 0;
            playerAnswers = [];
            usedQuestions = [];
            wrongAnswerCount = 0;
            hintCount = 3;
            usedHints = [];
            
            // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
            document.getElementById('playerName').value = '';
            
            // ‡∏´‡∏¢‡∏∏‡∏î‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
            if (gameTimer) {
                clearInterval(gameTimer);
            }
            
            // ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠
            document.getElementById('certificateScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'969c8e9125bc8955',t:'MTc1NDI5NDgwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
